<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="utf-8"/>
    <meta http-equiv ="X-UA-Compatible" content = "IE=edge"/>
    <meta name ="viewport" content = "width=device-width, initial-scale=1"/>
    <title>test_embedded_login</title>
    <link href="reset.css" rel = "stylesheet"/>
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,600" type="text/css" rel = "stylesheet"/>
    <link href="main.css" rel = "stylesheet"/>
    
    
    <meta name="salesforce-community" content="https://devone-htcl.cs31.force.com/Testembeddedlogin"/>
    <meta name="salesforce-client-id" content="3MVG9Se4BnchkASmev.doK2yBsBn79rd9th01BfsXM4.8BnSXanIlf_flGwDijbL7m8sUjuN9z0FAJoEUt7T2"/>
    <meta name="salesforce-mode" content="inline"/>
    <meta name="salesforce-redirect-uri" content="https://testembeddedlogin.herokuapp.com/_callback.php"/>
    <meta name="salesforce-target" content="#salesforce-login"/>
    <meta name="salesforce-save-access-token" content="true"/>
    <meta name="salesforce-login-handler" content="onLogin"/>
    <meta name="salesforce-logout-handler" content="onLogout"/>
    
    <link href="https://devone-htcl.cs31.force.com/Testembeddedlogin/servlet/servlet.loginwidgetcontroller?type=css" rel="stylesheet" type="text/css" /> 
     <script src="https://devone-htcl.cs31.force.com/Testembeddedlogin/servlet/servlet.loginwidgetcontroller?type=javascript_widget" async = "async"></script>

    
</head> 
<body>
<script>
    function onLogin(identity) {
		
		var targetDiv = document.querySelector(SFIDWidget.config.target);	
		
		var avatar = document.createElement('a'); 
	 	avatar.href = "javascript:showIdentityOverlay();";
		
		
		var img = document.createElement('img'); 
	 	img.src = identity.photos.thumbnail; 
		img.className = "sfid-avatar";
	
		var username = document.createElement('span'); 
		username.innerHTML = identity.username;
		username.className = "sfid-avatar-name";
	
		var iddiv = document.createElement('div'); 
	 	iddiv.id = "sfid-identity";
		
		avatar.appendChild(img);
		avatar.appendChild(username);
		iddiv.appendChild(avatar);		
	
		targetDiv.innerHTML = '';
		targetDiv.appendChild(iddiv);	
		
		
	}
	
	function onLogout() {
		SFIDWidget.init();

        }
	
</script>
</body>        
</html>
